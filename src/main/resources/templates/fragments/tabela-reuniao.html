<div th:fragment="tabela-processo(reunioes, status)">

    <div class="container mt-4">

        <!-- Feedback -->
        <div class="alert alert-info mb-4"
             th:if="${reunioesProgramadasCount > 0}">
            üóìÔ∏è Voc√™ tem
            <strong th:text="${reunioesProgramadasCount}"></strong>
            reuni√µes programadas.
        </div>

        <h4 class="fw-semibold mb-3">Reuni√µes do Colegiado</h4>

        <!-- Filtros -->
        <form method="get" class="row g-3 mb-4">

            <div class="col-md-3">
                <label class="form-label">Status</label>
                <select name="status" class="form-select">
                    <option value="">Todos</option>
                    <option th:each="status : ${status.values()}"
                            th:value="${status}"
                            th:text="${status}"
                            th:selected="${status == statusFiltro}">
                    </option>
                </select>
            </div>

            <div class="col-md-3">
                <label class="form-label">Data</label>
                <input type="date"
                       name="data"
                       class="form-control"
                       th:value="${dataFiltro}">
            </div>

            <div class="col-md-3 align-self-end">
                <button class="btn btn-primary w-100">Filtrar</button>
            </div>

        </form>

        <!-- Abas -->
        <ul class="nav nav-tabs mb-3" role="tablist">
            <li class="nav-item">
                <button class="nav-link active"
                        data-bs-toggle="tab"
                        data-bs-target="#ativas"
                        type="button">
                    üìÇ Programadas / Em andamento
                </button>
            </li>

            <li class="nav-item">
                <button class="nav-link"
                        data-bs-toggle="tab"
                        data-bs-target="#encerradas"
                        type="button">
                    üìÅ Encerradas
                </button>
            </li>
        </ul>

        <div class="tab-content">

            <!-- ABA ATIVAS -->
            <div class="tab-pane fade show active" id="ativas">

                <div th:if="${#lists.isEmpty(reunioes)}"
                     class="text-muted">
                    Nenhuma reuni√£o encontrada.
                </div>

                <div class="list-group">

                    <div class="list-group-item"
                         th:each="reuniao : ${reunioes}"
                         th:if="${reuniao.status != T(seu.pacote.StatusReuniao).ENCERRADA}">

                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong th:text="${#temporals.format(reuniao.data, 'dd/MM/yyyy HH:mm')}"></strong>
                                <span class="badge bg-warning ms-2"
                                      th:text="${reuniao.status}">
                            </span>
                            </div>

                            <div>
                                <a th:href="@{/reunioes/{id}(id=${reuniao.id})}"
                                   class="btn btn-sm btn-outline-primary">
                                    Ver pauta
                                </a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- ABA ENCERRADAS -->
            <div class="tab-pane fade" id="encerradas">

                <div class="list-group">

                    <div class="list-group-item"
                         th:each="reuniao : ${reunioes}"
                         th:if="${reuniao.status == status.ENCERRADA}">

                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong th:text="${#temporals.format(reuniao.data, 'dd/MM/yyyy HH:mm')}"></strong>
                                <span class="badge bg-success ms-2">
                                ENCERRADA
                            </span>
                            </div>

                            <div class="d-flex gap-2">
                                <a th:href="@{/reunioes/{id}(id=${reuniao.id})}"
                                   class="btn btn-sm btn-outline-secondary">
                                    Ver pauta
                                </a>

                                <a th:href="@{/reunioes/{id}/ata(id=${reuniao.id})}"
                                   class="btn btn-sm btn-outline-success">
                                    Ver ata
                                </a>
                            </div>
                        </div>

                    </div>

                </div>
            </div>

        </div>
    </div>


</div>