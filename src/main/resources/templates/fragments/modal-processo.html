<th:block th:fragment="conteudo">

    <!-- DADOS DO PROCESSO -->
    <div class="card mb-3 shadow-sm">
        <div class="card-body">

            <h6 class="fw-semibold mb-3">
                <i class="bi bi-info-circle me-1"></i>
                Informações do Processo
            </h6>

            <dl class="row mb-0">
                <dt class="col-sm-4 text-muted">Número</dt>
                <dd class="col-sm-8 fw-semibold"
                    th:text="${processo.numero}"></dd>

                <dt class="col-sm-4 text-muted">Assunto</dt>
                <dd class="col-sm-8"
                    th:text="${processo.assunto.nome}"></dd>

                <dt class="col-sm-4 text-muted">Status</dt>
                <dd class="col-sm-8">
                    <span class="badge bg-secondary"
                          th:text="${processo.status}"></span>
                </dd>

                <dt class="col-sm-4 text-muted">Criado em</dt>
                <dd class="col-sm-8"
                    th:text="${#temporals.format(processo.dataCriacao, 'dd/MM/yyyy')}"></dd>
            </dl>

        </div>
    </div>

    <!-- DOCUMENTOS ANEXADOS -->
    <div th:if="${!processo.documentos.isEmpty()}"
         class="card mb-3 border-success shadow-sm">

        <div class="card-body">

            <h6 class="fw-semibold mb-3">
                <i class="bi bi-paperclip me-1"></i>
                Documentos anexados
            </h6>

            <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex
                           justify-content-between align-items-center"
                    th:each="doc : ${processo.documentos}">

                    <div>
                        <i class="bi bi-file-earmark-text me-1"></i>
                        <span th:text="${doc.nomeArquivo}"></span>
                        <div class="small text-muted"
                             th:text="${#temporals.format(doc.dataUpload, 'dd/MM/yyyy HH:mm')}"></div>
                    </div>

                    <a class="btn btn-sm btn-outline-success"
                       th:href="@{/documento/{id}(id=${doc.id})}"
                       target="_blank">
                        <i class="bi bi-eye-fill"></i>
                    </a>
                </li>
            </ul>

        </div>
    </div>

    <!-- UPLOAD (SÓ SE NÃO HOUVER DOCUMENTOS) -->
    <div th:if="${podeEnviarDocumento}"
         class="card border-warning shadow-sm">

        <div class="card-body">

            <h6 class="fw-semibold mb-2">
                <i class="bi bi-upload me-1"></i>
                Enviar documento
            </h6>

            <p class="text-muted small mb-3">
                É permitido anexar até 3 documentos enquanto o processo estiver em criação.
            </p>

            <form th:action="@{/processo/{id}/arquivo(id=${processo.id})}"
                  method="post"
                  enctype="multipart/form-data">

                <div class="mb-3">
                    <input type="file"
                           name="arquivo"
                           class="form-control"
                           required>
                </div>

                <button class="btn btn-warning w-100">
                    <i class="bi bi-paperclip me-1"></i>
                    Anexar documento
                </button>
            </form>

        </div>
    </div>

    <div th:if="${!podeEnviarDocumento and totalDocumentos > 0}"
         class="alert alert-secondary d-flex align-items-center">

        <i class="bi bi-lock-fill me-2"></i>

        <div>
            Limite máximo de
            <strong th:text="${limiteDocumentos}"></strong>
            documentos atingido.
        </div>
    </div>


</th:block>
